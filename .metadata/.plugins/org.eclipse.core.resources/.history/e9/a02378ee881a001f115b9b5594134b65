package org.jsp.reservationapi.service;

import java.util.Optional;

import org.jsp.reservationapi.dao.BusDao;
import org.jsp.reservationapi.dto.BusRequest;
import org.jsp.reservationapi.dto.ResponseStructure;
import org.jsp.reservationapi.model.Bus;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Service;

@Service
public class BusService {
	
	private BusDao busDao;
	
	private Bus mapToBus(BusRequest busRequest) {
		return Bus.builder().name(busRequest.getName()).departure_date(busRequest.getDeparture_date()).bus_no(busRequest.getBus_no())
				.from_loc(busRequest.getFrom_loc()).to_loc(busRequest.getTo_loc()).no_of_seats(busRequest.getNo_of_seats()).build();
	}

	public ResponseEntity<ResponseStructure<Bus>> saveBus(BusRequest busRequest) {
		Optional<Bus> recBus = busDao.saveBus(busRequest);
		if(recBus.isPresent()) {
			Bus dbBus = mapToBus(busRequest);
			
		}
		return null;
	}

}
